<%= stylesheet_link_tag 'tabs'%>
<%= javascript_include_tag 'fabtabulous' %>
<table width="100%" height="40"  align="center">
  <tr>
    <td>
      <table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0"  align="center">
        <tr>
          <td width="3%"><img src="/images/personasmin.png" width="64" height="64"/></td>
          <td width="94%"><div class="col_enc">&nbsp;&nbsp;HOJA DE VIDA : <%=@persona.autobuscar rescue nil%> <% if @persona.especial_id.to_i == 10020 %>
            (<%= @persona.especial.descripcion.to_s rescue nil %>) <% end %></div></td>
          <td width="3%"><div align="right"><%= link_to image_tag('atras.png',{ :border=>0, :title => "Busca Personas"}),personas_path %></div></td>
        </tr>
      </table></td>
  </tr>
</table>
<% unless @persona.new_record? %>
  <%= link_to image_tag("datosbasicos.png", :title => "Datos Basicos", :style=>"#{@persona.d_etapa('1')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"1")%>
  <%= link_to image_tag("beneficiarios.png", :title => "Grupo Familiar", :style=>"#{@persona.d_etapa('11')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"11")%>
  <%= link_to image_tag("solucionhabitacional.png", :title => "Solucion Habitacional", :style=>"#{@persona.d_etapa('12')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"12")%>
  <%= link_to image_tag("subsidio.png", :title => "Subsidios", :style=>"#{@persona.d_etapa('13')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"13")%>
  <%= link_to image_tag("credito.png", :title => "Creditos", :style=>"#{@persona.d_etapa('14')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"14")%>
  <%= link_to image_tag("renuncia.png", :title => "Renuncias", :style=>"#{@persona.d_etapa('15')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"15")%>
  <%= link_to image_tag("observaciones.png", :title => "Observaciones", :style=>"#{@persona.d_etapa('3')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"3")%>
  <% if @existeresolucionespersona %>
    <%= link_to image_tag("resol.png", :title => "Resoluciones", :style=>"#{@persona.d_etapa('16')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"16")%>
  <% end %>
  <% if  @existeiguanaspersona %>
    <%= link_to image_tag("iguanas.png", :title => "Reasentamientos", :style=>"#{@persona.d_etapa('17')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"17")%>
  <% end %>
  <% if  @existeiguanasrentista %>
    <%= link_to image_tag("iguanas.png", :title => "Reasentamientos", :style=>"#{@persona.d_etapa('22')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"22")%>
  <% end %>
  <% if  @existeferia2009jefe %>
    <%= link_to image_tag("feria2009.png", :title => "Feria 2009", :style=>"#{@persona.d_etapa('18')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"18")%>
  <% end %>
  <% if  @existeferia2010jefe %>
    <%= link_to image_tag("feria2010.png", :title => "Feria 2010", :style=>"#{@persona.d_etapa('19')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"19")%>
  <% end %>
  <% if  @existeferia2014jefe %>
    <%= link_to image_tag("feria2014.png", :title => "Feria 2014", :style=>"#{@persona.d_etapa('39')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"39")%>
  <% end %>
  <% if  @existeferiadocentejefe %>
    <%= link_to image_tag("feriadocente.png", :title => "Feria Docentes", :style=>"#{@persona.d_etapa('20')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"20")%>
  <% end %>
  <% if  @existedesplazado %>
    <%= link_to image_tag("desplazado.png", :title => "Desplazados", :style=>"#{@persona.d_etapa('21')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"21")%>
  <% end %>
  <% if  @existearchivo %>
    <%= link_to image_tag("archivo1.png", :title => "Ubicacion Archivo Central", :style=>"#{@persona.d_etapa('23')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"23")%>
  <% end %>
  <% if  @existeobrapublica %>
    <%= link_to image_tag("obra.png", :title => "Obras Publica", :style=>"#{@persona.d_etapa('24')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"24")%>
  <% end %>
  <% if permiso("personasretorno","C").to_s == "S" %>
    <%= link_to image_tag("proceso.png", :title => "Plan Retorno", :style=>"#{@persona.d_etapa('32')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"32")%>
  <% end %>
  <% if permiso("personastramite","C").to_s == "S" %>
    <%= link_to image_tag("tramites.png", :title => "Etapas", :style=>"#{@persona.d_etapa('25')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"25")%>
  <% end %>
  <% if  @existetitulacion %>
    <%= link_to image_tag("titulo.png", :title => "Información Titulaciones", :style=>"#{@persona.d_etapa('26')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"26")%>
  <% end %>
  <% if permiso("personassesion","C").to_s == "S" %>
    <%= link_to image_tag("personassesiones.png", :title => "Autorizaciones Venta/Arriendo", :style=>"#{@persona.d_etapa('27')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"27")%>
  <% end %>
  <% if  @existearrendamiento %>
    <%= link_to image_tag("ayudas.png", :title => "Arrendamiento Temporal", :style=>"#{@persona.d_etapa('28')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"28")%>
  <% end %>
  <% if  @existerecibida %>
    <%= link_to image_tag("recibida.png", :title => "Correspondencias Recibida", :style=>"#{@persona.d_etapa('29')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"29")%>
  <% end %>
  <% if  @existeenviada %>
    <%= link_to image_tag("enviada.png", :title => "Correspondencias Enviada", :style=>"#{@persona.d_etapa('30')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"30")%>
  <% end %>
  <% if  @existeprocesospersona %>
    <%= link_to image_tag("proceso.png", :title => "Procesos Juridicos", :style=>"#{@persona.d_etapa('31')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"31")%>
  <% end %>
    <%= link_to image_tag("quejam.png", :title => "PQRS", :style=>"#{@persona.d_etapa('33')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"33")%>
  <% if permiso("personasencuesta","C").to_s == "S" %>
    <%= link_to image_tag("personasencuesta.png", :title => "Encuesta", :style=>"#{@persona.d_etapa('41')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"41")%>
  <% end %>
  <% if permiso("personascenso","C").to_s == "S" %>
    <%= link_to image_tag("censo2.png", :title => "Censo Puente 94-95", :style=>"#{@persona.d_etapa('34')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"34")%>
  <% end %>
  <% if @existecruce or @existecruceimagen %>
    <%= link_to image_tag("cruzado.png", :title => "Cruce Minambiente / ZR", :style=>"#{@persona.d_etapa('35')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"35")%>
  <% end %>
  <% if @existemejoramiento %>
    <%= link_to image_tag("mejora2.png", :title => "Mejoramientos de Vivienda", :style=>"#{@persona.d_etapa('36')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"36")%>
  <% end %>
  <% if @existebase %>
    <%= link_to image_tag("censoudea.png", :title => "Censo UDEA", :style=>"#{@persona.d_etapa('38')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"38")%>
  <% end %>
  <% if @existefase2censo %>
    <%= link_to image_tag("censoudea.png", :title => "Fase2 Censo", :style=>"#{@persona.d_etapa('40')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"40")%>
  <% end %>
  <% if permiso("personaslista","C").to_s == "S" %>
    <%= link_to image_tag("elementoscar.png", :title => "Lista de Chequeo", :style=>"#{@persona.d_etapa('37')} padding:4px;"),edit_persona_path(:id=>@persona.id,:etapa=>"37")%>
  <% end %>
<% end %>
<% if @persona.etapa.to_s == '1' %>
  <fieldset>
    <% form_for(@persona) do |f| %>


    <%= f.hidden_field :feriavipa%>
    <%= f.hidden_field :etapa%>
    <script  type="text/javascript">
        Event.observe(window, 'load', function() {
          <%
          @status = 'true'
          if @persona.recursos_complementarios.to_s == 'SI'
            @status = 'false'
          elsif @persona.recursos_complementarios.to_s == 'NO'
            @status = 'true'
          end
          %>
           document.getElementById("persona_recursos_programado").disabled = <%=@status%>   
           document.getElementById("persona_recursos_programado_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_ahorro").disabled = <%=@status%>   
           document.getElementById("persona_recursos_ahorro_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_credito").disabled = <%=@status%>   
           document.getElementById("persona_recursos_credito_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_cesantias").disabled = <%=@status%>   
           document.getElementById("persona_recursos_cesantias_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_donaciones").disabled = <%=@status%>   
           document.getElementById("persona_recursos_donaciones_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_nacional").disabled = <%=@status%>   
           document.getElementById("persona_recursos_nacional_fecha").disabled = <%=@status%>   
           document.getElementById("persona_recursos_nacional_resol").disabled = <%=@status%>   
           document.getElementById("persona_recursos_municipal").disabled = <%=@status%>   
           document.getElementById("persona_recursos_municipal_fecha").disabled = <%=@status%>   
           document.getElementById("persona_recursos_municipal_resol").disabled = <%=@status%>   
           document.getElementById("persona_recursos_otros").disabled = <%=@status%>   
           document.getElementById("persona_recursos_otros_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_materiales").disabled = <%=@status%>   
           document.getElementById("persona_recursos_materiales_entidad").disabled = <%=@status%>   
           document.getElementById("persona_recursos_municipal").disabled = <%=@status%>   
           document.getElementById("persona_recursos_especie_desc").disabled = <%=@status%>   
           document.getElementById("persona_recursos_especie_cuan").disabled = <%=@status%>   
           document.getElementById("persona_recursos_especie_entidad").disabled = <%=@status%>    
      });

       function habcampo(f)
        {
          var status = true;
          if (f.persona_recursos_complementarios.value == "SI")
          {
            status = false;
          } else if (f.persona_recursos_complementarios.value == "NO"){
            status = true;
          }
          f.persona_recursos_programado.disabled = status;
          f.persona_recursos_programado_entidad.disabled = status;
          f.persona_recursos_ahorro.disabled = status;
          f.persona_recursos_ahorro_entidad.disabled = status;
          f.persona_recursos_credito.disabled = status;
          f.persona_recursos_credito_entidad.disabled = status;
          f.persona_recursos_cesantias.disabled = status;
          f.persona_recursos_cesantias_entidad.disabled = status;
          f.persona_recursos_donaciones.disabled = status;
          f.persona_recursos_donaciones_entidad.disabled = status;
          f.persona_recursos_nacional.disabled = status;
          f.persona_recursos_nacional_fecha.disabled = status;
          f.persona_recursos_nacional_resol.disabled = status;
          f.persona_recursos_municipal.disabled = status;
          f.persona_recursos_municipal_fecha.disabled = status;
          f.persona_recursos_municipal_resol.disabled = status;
          f.persona_recursos_otros.disabled = status;
          f.persona_recursos_otros_entidad.disabled = status;
          f.persona_recursos_materiales.disabled = status;
          f.persona_recursos_materiales_entidad.disabled = status;
          f.persona_recursos_municipal.disabled = status;
          f.persona_recursos_especie_desc.disabled = status;
          f.persona_recursos_especie_cuan.disabled = status;
          f.persona_recursos_especie_entidad.disabled = status;
        }

    </script>
    <table width="100%" border="0" cellpadding="2" cellspacing="2"  align="center">
      <tr><td></td></tr>
      <tr>
        <td width="80%" height="30"><div class="col_enc">DATOS BASICOS JEFE DE HOGAR</div></td>
        <% unless @persona.new_record? %>
        <td style="background-color:#98DB34;" class="camposDesc"><div align="center"><% if Crucessolicitud.exists?(["persona_id = #{@persona.id} and estado is null and clase = 'CRUCE'"])%>Cruce en tramite...<%else%><%=link_to 'Solicitar CRUCE', solicitarcruce_personas_path(:id=>@persona.id, :clase =>'CRUCE'), :class=>"verlink", :title=>"Este link genera la solicitud de cruce de todo este grupo familiar...", :confirm=>"Atención: Seguro que desea solicitar el cruce de esta familia?"%><%end%></div></td>
        <td style="background-color:#F5A9A9" class="camposDesc"><div align="center"><% if Crucessolicitud.exists?(["persona_id = #{@persona.id} and estado is null and clase = 'ZR'"])%>ZR en tramite...<%else%><%=link_to 'Solicitar ZR', solicitarcruce_personas_path(:id=>@persona.id, :clase =>'ZR'), :class=>"verlink", :title=>"Este link genera la solicitud de ZR de todo este grupo familiar...", :confirm=>"Atención: Seguro que desea solicitar el ZR de esta familia?"%><%end%></div></td>
        <% end %>
      </tr>
    </table>
    <%  unless @persona.new_record?
          if cruzadoper(@persona.id).to_s == 'S' %>
             <div class="cruzado camposDesc">&nbsp;&nbsp;*** Este jefe de hogar presenta cruce con la base de datos de Minambiente....</div>
    <%    end
        end %>
    <% if permisoespecial(@persona.id).to_s == "S"%>
        <table width="100%" border="0" cellpadding="0" cellspacing="2">
          <tr class="odd1">
            <td width="157"><span class="campos">Documento</span></td>
            <td width="203"><span class="campos">Identificaci&oacute;n *</span></td>
            <td width="250"><span class="campos">Primer Nombre *</span></td>
            <td width="220"><span class="campos">Segundo Nombre</span></td>
            <td width="228"><span class="campos">Primer Apellido *</span></td>
            <td width="173"><span class="campos">Segundo Apellido</span></td>
          </tr>
          <tr>
            <td><%=select("persona", "documento_id", Documento.find(:all, :order=>"descripcion").collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %></td>
            <td><%= f.text_field :identificacion ,{ :class => "campo", :size => 20,
                    :onFocus => "this.style.border='1px solid #f00'",
                    :onBlur => "this.style.border='1px solid #bbb'" }%>
              <%= error_message_on :persona, :identificacion, :css_class =>"cerror"%>
              </td>
            <td><%= f.text_field :primer_nombre,{ :class => "campo",:size => 20,
                  :onChange=> "javascript:this.value=this.value.toUpperCase();",
                  :onFocus => "this.style.border='1px solid #f00'",
                  :onBlur => "this.style.border='1px solid #bbb'" }%>
              <%= f.error_message_on :primer_nombre, :css_class =>"cerror"%>
            </td>
            <td><%= f.text_field :segundo_nombre,{ :class => "campo", :size => 20,
                  :onChange=> "javascript:this.value=this.value.toUpperCase();",
                  :onFocus => "this.style.border='1px solid #f00'",
                  :onBlur => "this.style.border='1px solid #bbb'" }%>  </td>
            <td><%= f.text_field :primer_apellido,{ :class => "campo", :size => 20,
                  :onChange=> "javascript:this.value=this.value.toUpperCase();",
                  :onFocus => "this.style.border='1px solid #f00'",
                  :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :primer_apellido, :css_class =>"cerror"%></td>
            <td><%= f.text_field :segundo_apellido,{ :class => "campo", :size => 20,
                  :onChange=> "javascript:this.value=this.value.toUpperCase();",
                  :onFocus => "this.style.border='1px solid #f00'",
                  :onBlur => "this.style.border='1px solid #bbb'" }%></td>
          </tr>
        </table>
    <%else%>
          <table width="100%" border="0" cellpadding="0" cellspacing="2">
          <tr class="odd1">
            <td width="157"><span class="campos">Documento</span></td>
            <td width="203"><span class="campos">Identificaci&oacute;n *</span></td>
            <td width="250"><span class="campos">Primer Nombre *</span></td>
            <td width="220"><span class="campos">Segundo Nombre</span></td>
            <td width="228"><span class="campos">Primer Apellido *</span></td>
            <td width="173"><span class="campos">Segundo Apellido</span></td>
          </tr>
          <tr>
             <td><%=@persona.documento.descripcion rescue nil%></td>
            <td><%=@persona.identificacion%></td>
            <td><%=@persona.primer_nombre%></td>
            <td><%=@persona.segundo_nombre%></td>
            <td><%=@persona.primer_apellido%></td>
            <td><%=@persona.segundo_apellido%></td>
          </tr>
        </table>
    <%end%>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="25%"><span class="campos">Genero</span></td>
        <td width="13%"><span class="campos">Fecha Nacimiento</span></td>
        <td width="22%"><span class="campos">Lugar Nacimiento</span></td>
        <td width="20%"><span class="campos">Estado Civil</span></td>

      </tr>
      <tr>
        <td><span class="campos">Masculino <%= f.radio_button("genero", "true") %> Femenino <%= f.radio_button("genero", "false") %></span></td>
        <td><%= calendar_date_select "persona", "fecha_nacimiento", :year_range =>[1900,2011], :class=> "campo", :placeholder=>"AAAA-MM-DD", :size => 10, :time => false%>
        <%= f.error_message_on :fecha_nacimiento, :css_class =>"cerror"%></td>
        <td><%= f.text_field :lugar_nacimiento,{ :class => "campo", :size => 40,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%></td>
        <td><%=select("persona", "estado_civil_id", EstadosCivil.find(:all, :order=>"descripcion").collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:200px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="30%"><span class="campos">Ocupacion</span></td>        
        <td width="25%"><span class="campos">Grupo Etnico *</span></td>
        <td width="20%"><span class="campos">Poblacion LGBTI</span></td>
        <td width="25%"><span class="campos">Condicion Especial *</span></td>
      </tr>
      <tr>
        <td><%=select("persona", "ocupacion_id", Ocupacion.find(:all, :order=>"descripcion").collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:220px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %>
        <%= f.error_message_on :ocupacion_id, :css_class =>"cerror"%></td>          
        <td>
          <%= select(:persona, :grupo_etnico,select_grupoetnico, { :include_blank => true },
                    { :style=>"width:150px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
         <%= f.error_message_on :grupo_etnico, :css_class =>"cerror"%></td>
        <td>
          <%= select(:persona, :lgbti,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
         <%= f.error_message_on :lgbti, :css_class =>"cerror"%></td>
        <td><%=select("persona", "especial_id", select_especial.collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:260px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %>
          <%= f.error_message_on :especial_id, :css_class =>"cerror"%>
        </td>         
      
      </tr>
    </table>      
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="35%"><span class="campos">Tipo de Poblacion *</span></td>
        <td width="15%"><span class="campos">Ingresos *</span></td>      
        <td width="15%"><span class="campos">Nivel Sisben *</span></td>
        <td width="10%"><span class="campos">Estrato *</span></td>
      </tr>
      <tr>
        <td><%=select("persona", "familiar_id", select_familiar.collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:380px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %>
        <%= f.error_message_on :familiar_id, :css_class =>"cerror"%></td>
        <td><%= f.text_field :ingresos ,{ :class => "campo", :size => 20,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :ingresos, :css_class =>"cerror"%></td>
        <td><%=select("persona", "sisben_id", select_sisben.collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true },
          { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %>
         <%= f.error_message_on :sisben_id, :css_class =>"cerror"%></td>
         <td>
             <%= select(:persona, :estrato,select_estrato, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
            <%= f.error_message_on :estrato, :css_class =>"cerror"%>
           </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="60%"><span class="campos">Comuna - Barrio *</span></td>
        <td width="40%"><span class="campos">Direccion *</span></td>
      </tr>
      <tr>
        <td><%= text_field_with_auto_complete :persona, :comuna_descripcion2, { :class => "campo",:size => 80,:maxlength => 150,:onFocus => "this.style.border='1px solid #f00'",:onBlur => "this.style.border='1px solid #bbb'", :placeholder=>"Lista desplegable - Digite el dato" },{:url => listar_comunas_path(:js), :method => :get, :with => "'search=' + element.value" } %>
          <%= f.error_message_on :comuna_descripcion2, :css_class =>"cerror"%></td>
        <td><%= f.text_field :direccion,{ :class => "campo", :size => 60,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :direccion, :css_class =>"cerror"%></td>
      </tr>
    </table>   
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="24%" class="campos">Ciudad</td>
        <td width="21%" class="campos">CBML</td>
        <td width="21%" class="campos">Matricula Inmobiliaria</td>
        <td width="21%" class="campos">Telefono 1 *</td>
        <td width="21%" class="campos">Telefono 2 *</td>
      </tr>
      <tr>
         <td><%= f.text_field :ciudad,{ :class => "campo", :size => 20,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'", :value=>"MEDELLIN"}%>
        <%= f.error_message_on :ciudad, :css_class =>"cerror"%></td>
        <td><%= f.text_field :cbml,{ :class => "campo", :size => 20,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :cbml, :css_class =>"cerror"%></td>
        <td><%= f.text_field :matricula_inmobiliaria,{ :class => "campo", :size => 25,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :matricula_inmobiliaria, :css_class =>"cerror"%></td>
        <td><%= f.text_field :telefonos1,{ :class => "campo", :size => 25,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :telefonos1, :css_class =>"cerror"%></td>
        <td><%= f.text_field :telefonos2,{ :class => "campo", :size => 25,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :telefonos2, :css_class =>"cerror"%></td>
        </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="18%" class="campos">Celular *</td>
        <td width="22%" class="campos">Tenencia</td>
        <td width="20%" class="campos">Escolaridad</td>
        <td width="20%" class="campos">Tipo de Contrato</td>
        <td width="20%" class="campos">Tipo de Discapacidad</td>          
      </tr>
      <tr>
        <td><%= f.text_field :celular,{ :class => "campo", :size => 20,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        <%= f.error_message_on :celular, :css_class =>"cerror"%></td>
        <td align="left" class="campos">
          <%= select(:persona,:tenencia, select_tenencia, { :include_blank => true },
          { :style=>"width:180px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td align="left" class="campos">
          <%= select(:persona,:escolaridad, select_escolaridad, { :include_blank => true },
                    { :style=>"width:180px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td align="left" class="campos">
          <%= select(:persona,:tipo_contrato, select_contrato, { :include_blank => true },
                    { :style=>"width:140px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td align="left" class="campos">
          <%= select(:persona,:tipo_discapacidad, select_tipo_discapacidad, { :include_blank => true },
                    { :style=>"width:150px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>          
      </tr>
    </table>      
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="40%" class="campos">Caja de Compensación</td>
        <td width="60%" class="campos">Correo Electronico</td>          
      </tr>
      <tr>
        <td><%=select("persona", "caja_id", Caja.find(:all,:order=>'descripcion').collect {|p| [ p.descripcion, p.id ] }, { :include_blank => true }, { :style=>"width:250px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" }) %>
         <%= f.error_message_on :comuna_id, :css_class =>"cerror"%></td>  
        <td><%= f.text_field :e_mail,{ :class => "campo", :size => 70,
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
            <%= f.error_message_on :e_mail, :css_class =>"cerror"%></td>
        </td>              
        <td> 
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">          
        <td width="20%" class="campos">Atencion en Salud (EPS)</td>
        <td width="30%" class="campos">Participación Ciudadana</td>
        <td width="50%" class="campos">Clase de subsidio al que desea aspirar</td>
      </tr>
      <tr>
         <td align="left" class="campos"> <%= select(:persona,:eps, select_sino, { :include_blank => true },
                    { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>        
         <td align="left" class="campos">
          <%= select(:persona,:participacion, select_participacion, { :include_blank => true },
                    { :style=>"width:200px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
         <td align="left" class="campos">
          <%= select(:persona,:subsidio_aspira, select_tiposubaspira, { :include_blank => true },
                    { :style=>"width:370px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>         
      </tr>
    </table>      
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="30%" class="campos">Inscripción sin Vinculación a Proyecto? *</td>
        <% if permiso("personashabilita","C").to_s == "S" %>
        <td width="10%" class="campos">Habilitado</td>
        <% end %>
        <td width="50%" class="campos"></td>
      </tr>
      <tr valign="top">
      <td>
          <%= select(:persona,:vinculacion_proyecto, { "NO" => "NO","SI" => "SI" },
              { :include_blank => true },{ :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
          <%= f.error_message_on :vinculacion_proyecto, :css_class =>"cerror"%>
        </td>
        <% if permiso("personashabilita","C").to_s == "S" %>
        <td>
          <%= select(:persona,:habilitado, { "NO" => "NO","SI" => "SI" },
              { :include_blank => true },{ :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
          <%= f.error_message_on :habilitado, :css_class =>"cerror"%>
        </td>
        <% end %>
        <td>
           <% unless @persona.new_record? %>
             <a href="javascript:mostrardivall('personadatoscomp_<%=@persona.id%>');" class="mostrarlink">Datos Complementarios</a> - 
             <%= link_to "Ficha", {:controller => "personas", :action => "visualizar", :id=>@persona.id}, :popup => ['new_window','height=520,width=830,scrollbars=yes'], :class=>"verlink" %>
          <% end %>
          </td>
      </tr>
    </table><br/>
    <% if permisoferia.to_s == "S" %>
    <% if  @existeferia2010jefe %>
    <table width="100%" border="0" cellpadding="2" cellspacing="2">
      <tr>
        <td height="30"><div class="col_enc">SUBSIDIOS RECIBIDOS</div></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td width="51%"><table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td height="71" class="campos">Alg&uacute;n miembro del hogar ha recibido subsidio familiar de vivienda
                  otorgado por corvide, inurbe, caja agraria, banco agrario,
                cajas de compensaci&oacute;n o por el forec.</td>
                <td width="10%" class="camposDesc">
                  <div align="center"><%= select(:persona, :subsidio_familiar,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
                    <%= f.error_message_on :subsidio_familiar, :css_class =>"cerror"%></div></td>
              </tr>
          </table></td>
          <td width="38%"><table width="100%" border="0" cellspacing="2" cellpadding="0">
            <tr>
              <td width="15%" class="campos">Subsidio Invertido </td>
              <td width="15%" class="campos">En que </td>
              </tr>
            <tr>
              <td class="camposDesc"><%= select(:persona, :subsidio_invertido,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
                    <%= f.error_message_on :subsidio_invertido, :css_class =>"cerror"%></td>
              <td class="camposDesc"><%= f.text_field :subsidio_invertido_en,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :subsidio_invertido_en, :css_class =>"cerror"%></td>
              </tr>
          </table>
            <table width="100%" border="0" cellspacing="2" cellpadding="0">
              <tr>
                <td width="15%" class="campos">Subsidio Restituido </td>
                <td width="15%" class="campos">Fecha</td>
              </tr>
              <tr>
                <td class="camposDesc"><%= select(:persona, :subsidio_restituido,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
                <td class="camposDesc"><%= calendar_date_select "persona", "subsidio_restituido_fecha", :year_range =>[1990,2012], :class=> "campo", :size => 10, :time => false, :onfocus=>"this.blur()"%></td>
              </tr>
            </table></td>
        </tr>
      </table>
      <table width="100%" border="0" cellpadding="2" cellspacing="2">
        <tr>
          <td height="30"><div class="col_enc">SITUACI&Oacute;N DEL GRUPO FAMILIAR </div></td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="2" cellpadding="0">
       <tr class="odd1">
          <td width="21%" class="campos">Condicion Familiar </td>
          <td width="25%" class="campos">Beneficiario Arriendo Temporal </td>
          <td width="9%" class="campos">Sisben</td>
          <td width="15%" class="campos">Vinculado a OPV </td>
          <td width="30%" class="campos">Cual OPV</td>
        </tr>
        <tr>
          <td class="camposDesc"><%= f.text_field :condicionfamiliar,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :condicionfamiliar, :css_class =>"cerror"%></td>
          <td class="camposDesc"><%= select(:persona, :beneficiario_arrtemp,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="camposDesc"><%= select(:persona, :feria_sisben, select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="camposDesc"><%= select(:persona, :organizacion_vivienda,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="camposDesc"><%= f.text_field :organizacion_cual,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :organizacion_cual, :css_class =>"cerror"%></td>
        </tr>
      </table><br/>
      <table width="100%" border="0" cellpadding="2" cellspacing="2">
        <tr>
          <td height="30"><div class="col_enc">RECURSOS COMPLEMENTARIOS PARA LA VIVIENDA </div></td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="2" cellpadding="0">
        <tr>
          <td width="56%" class="campos">Posee recursos complementarios para la adquisici&oacute;n de su vivienda?</td>
          <td width="44%" class="camposDesc"><%= select(:persona, :recursos_complementarios,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'", :onchange => "habcampo(this.form);" })%></td>
        </tr>
      </table>
      <table width="100%" border="0" cellspacing="2" cellpadding="0">
        <tr class="odd1">
          <td width="28%" class="campos">Cuenta de Ahorro Programado</td>
          <td width="11%" class="camposDesc"><%= select(:persona, :recursos_programado,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td width="11%" class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_programado_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_programado_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr>
          <td class="campos">Ahorro Cualquier Modalidad</td>
          <td class="camposDesc"><%= select(:persona, :recursos_ahorro,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'"})%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_ahorro_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_ahorro_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr class="odd1">
          <td class="campos">Credito Aprobado </td>
          <td class="camposDesc"><%= select(:persona, :recursos_credito,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'"})%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_credito_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_credito_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr>
          <td class="campos">Cesantias</td>
          <td class="camposDesc"><%= select(:persona, :recursos_cesantias,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'"})%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_cesantias_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_cesantias_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr class="odd1">
          <td class="campos">Donaciones</td>
          <td class="camposDesc"><%= select(:persona, :recursos_donaciones,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_donaciones_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_donaciones_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr>
          <td class="campos">Subsidio Nacional </td>
          <td class="camposDesc"><%= select(:persona, :recursos_nacional,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="campos">Fecha</td>
          <td width="17%" class="camposDesc"><%= calendar_date_select "persona", "recursos_nacional_fecha", :year_range =>[1990,2012], :class=> "campo", :size => 10, :time => false, :onfocus=>"this.blur()"%></td>
          <td width="14%" class="campos">Resoluci&oacute;n</td>
          <td width="19%" class="camposDesc"><%= f.text_field :recursos_nacional_resol,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_nacional_resol, :css_class =>"cerror"%></td>
        </tr>
        <tr class="odd1">
          <td class="campos">Subsidio Municipal</td>
          <td class="camposDesc"><%= select(:persona, :recursos_municipal,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="campos">Fecha</td>
          <td class="camposDesc"><%= calendar_date_select "persona", "recursos_municipal_fecha", :year_range =>[1990,2012], :class=> "campo", :size => 10, :time => false, :onfocus=>"this.blur()"%></td>
          <td class="campos">Resoluci&oacute;n</td>
          <td class="camposDesc"><%= f.text_field :recursos_municipal_resol,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_municipal_resol, :css_class =>"cerror"%></td>
        </tr>
        <tr>
          <td class="campos">Subsidio Otras Entidades </td>
          <td class="camposDesc"><%= select(:persona, :recursos_otros,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_otros_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_otros_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr class="odd1">
          <td class="campos">Subsidio en Especie - Descripcion </td>
          <td class="camposDesc"><%= f.text_field :recursos_especie_desc,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_especie_desc, :css_class =>"cerror"%></td>
          <td class="campos">Cuantificaci&oacute;n</td>
          <td class="camposDesc"><%= f.text_field :recursos_especie_cuan,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_especie_cuan, :css_class =>"cerror"%></td>
          <td class="campos">Entidad</td>
          <td class="camposDesc"><%= f.text_field :recursos_especie_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_especie_entidad, :css_class =>"cerror"%></td>
        </tr>
        <tr>
          <td class="campos">Materiales de Construccion</td>
          <td class="camposDesc"><%= select(:persona, :recursos_materiales,select_sino, { :include_blank => true },
                    { :style=>"width:100px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%></td>
          <td class="campos">Entidad</td>
          <td colspan="3" class="camposDesc"><%= f.text_field :recursos_materiales_entidad,{ :class => "campo", :size => 20,
                :onChange=> "javascript:this.value=this.value.toUpperCase();",
                :onFocus => "this.style.border='1px solid #f00'",
                :onBlur => "this.style.border='1px solid #bbb'" }%>
             <%= f.error_message_on :recursos_materiales_entidad, :css_class =>"cerror"%></td>
        </tr>
    </table>
    <% end %>
    <% end -%>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <% if @existearrendamiento %>
          <td width="50" height="25" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Arrendamiento Temporal</strong></div></td>
        <% end %>
        <% if @existeresolucionespersona %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Resolución</strong></div></td>
        <% end %>
        <% if @existeiguanaspersona %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Reasentamiento</strong></div></td>
        <% end %>
        <% if @existeiguanasrentista %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Reasentamiento</strong></div></td>
        <% end %>
        <% if @existeobrapublica %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Obra Publica</strong></div></td>
        <% end %>
        <% if @existetitulacion %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Titulación</strong></div></td>
        <% end %>
        <% if @existemejoramiento %>
          <td width="50" style="background-color:#98DB34; border-radius: 2px;" class="camposDesc"><div align="center"><strong>Tiene Mejoramiento</strong></div></td>
        <% end %>
      </tr>
    </table>

    <table width="100%" height="0" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td height="10"><hr size="1" noshade class="hrlinea"/></td>
      </tr>
    </table>
    <div id="personadatoscomp_<%=@persona.id%>" style="display:none;">
     <table width="100%" border="0" cellpadding="2" cellspacing="2"  align="center">
      <tr><td></td></tr>
      <tr>
        <td height="30"><div class="col_enc">AFECTACION DE LA VIVIENDA</div></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="18%" class="campos">Afectacion de la vivienda?</td>
        <td width="20%" class="campos">Calamidad</td>
        <td width="12%" class="campos">Riesgo</td>
        <td width="50%" class="campos">Simpad</td>
      </tr>
      <tr valign="top">
        <td>
          <%= select(:persona,
              :afectacion, { "NO" => "NO",
                "SI" => "SI" },
              { :include_blank => true },
                    { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
          <%= f.error_message_on :afectacion, :css_class =>"cerror"%>
        </td>
        <td><%= f.text_field :afect_calamidad,{ :class => "campo", :size => 20,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
         <%= f.error_message_on :afect_calamidad, :css_class =>"cerror"%></td>
        <td><%= f.text_field :afect_riesgo,{ :class => "campo", :size => 20,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
         <%= f.error_message_on :afect_riesgo, :css_class =>"cerror"%></td>
        <td><span class="camposDesc"> &nbsp;Tiene Ficha &nbsp;<%= select(:persona,
              :afect_fichasimpad, { "NO" => "NO",
                "SI" => "SI" },
              { :include_blank => true },
                    { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
          &nbsp;Nro &nbsp;<%= f.text_field :afect_nrosimpad,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
          &nbsp;Fecha &nbsp;<%= calendar_date_select "persona", "afect_fchsimpad", :year_range =>[1990,2012], :class=> "campo", :size => 10, :time => false, :onfocus=>"this.blur()"%>
          </span>
        </td>
      </tr>
    </table>
     <table width="100%" border="0" cellpadding="2" cellspacing="2"  align="center">
      <tr><td></td></tr>
      <tr>
        <td height="30"><div class="col_enc">CARACTERISTICAS DE LA VIVIENDA</div></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="45%" class="campos">Materiales Techos</td>
        <td width="55%" class="campos">Materiales Pisos</td>
      </tr>
      <tr valign="top">
        <td class="camposDesc">
          <%= f.check_box :caract_techobarro,{},'SI','NO'%> Teja Barro &nbsp;-&nbsp;
          <%= f.check_box :caract_techoeternit,{},'SI','NO'%> Eternit &nbsp;-&nbsp;
          <%= f.check_box :caract_techozinc,{},'SI','NO'%> Zinc &nbsp;-&nbsp;
          Otro Cual &nbsp; <%= f.text_field :caract_techootro,{ :class => "campo", :size => 18,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
        <td class="camposDesc">
          <%= f.check_box :caract_pisotierra,{},'SI','NO'%> Tierra &nbsp;-&nbsp;
          <%= f.check_box :caract_pisocemento,{},'SI','NO'%> Cemento &nbsp;-&nbsp;
          <%= f.check_box :caract_pisomadera,{},'SI','NO'%> Madera &nbsp;-&nbsp;
          <%= f.check_box :caract_pisobaldosa,{},'SI','NO'%> Baldosa &nbsp;-&nbsp;
          Otro Cual &nbsp; <%= f.text_field :caract_pisootro,{ :class => "campo", :size => 18,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
     <tr class="odd1">
        <td width="45%" class="campos">Materiales Muros</td>
        <td width="14%" class="campos">Estado Techos</td>
        <td width="14%" class="campos">Estado Pisos</td>
        <td width="14%" class="campos">Estado Muros</td>
        <td width="13%" class="campos">La vivienda es?</td>
      </tr>
      <tr valign="top">
        <td class="camposDesc">
          <%= f.check_box :caract_murotapia,{},'SI','NO'%> Tapia &nbsp;-&nbsp;
          <%= f.check_box :caract_muromadera,{},'SI','NO'%> Madera &nbsp;-&nbsp;
          <%= f.check_box :caract_muroadobe,{},'SI','NO'%> Adobe &nbsp;-&nbsp;
          Otro Cual &nbsp; <%= f.text_field :caract_murootro,{ :class => "campo", :size => 18,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
        <td>
          <%= select(:persona,
              :caract_estadotecho, { "BUENO" => "BUENO",
                "REGULAR" => "REGULAR", "MALO" => "MALO"},
              { :include_blank => true },
                    { :style=>"width:110px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td>
          <%= select(:persona,
              :caract_estadopisos, { "BUENO" => "BUENO",
                "REGULAR" => "REGULAR", "MALO" => "MALO"},
              { :include_blank => true },
                    { :style=>"width:110px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td>
          <%= select(:persona,
              :caract_estadomuros, { "BUENO" => "BUENO",
                "REGULAR" => "REGULAR", "MALO" => "MALO"},
              { :include_blank => true },
                    { :style=>"width:110px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
        <td>
          <%= select(:persona,
              :caract_tamanovivienda, { "GRANDE" => "GRANDE","PEQUEÑA" => "PEQUENA"},
              { :include_blank => true },
                    { :style=>"width:110px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
        </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr valign="top">
        <td width="20%" class="campos odd1">Servicios Publicos</td>
        <td width="80%" class="camposDesc">
          &nbsp;<%= f.check_box :caract_servenergia,{},'SI','NO'%> &nbsp;Energia &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servacueducto,{},'SI','NO'%> &nbsp;Acueducto &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servagua,{},'SI','NO'%> &nbsp;Agua Potable &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servtelefono,{},'SI','NO'%> &nbsp;Telefono &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servgas,{},'SI','NO'%> &nbsp;Gas &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servalcant,{},'SI','NO'%> &nbsp;Alcantarillado &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_servpozo,{},'SI','NO'%> &nbsp;Pozo Septico / Tanque
        </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr valign="top">
        <td width="20%" class="campos odd1">Distribucion de la Vivienda</td>
        <td width="80%" class="camposDesc">
          &nbsp;<%= f.check_box :caract_distcocina,{},'SI','NO'%> &nbsp;Cocina &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_distsala,{},'SI','NO'%> &nbsp;Sala &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :caract_distcomedor,{},'SI','NO'%> &nbsp;Comedor &nbsp;-&nbsp;
          Nro de Baños <%= f.text_field :caract_distbanos,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp;-&nbsp;
          Nro de Habitaciones  <%= f.text_field :caract_disthabit,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp;-&nbsp;
          Nro Personas por Habitacion&nbsp<%= f.text_field :caract_distpersxhab,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
     <table width="100%" border="0" cellpadding="2" cellspacing="2"  align="center">
      <tr><td></td></tr>
      <tr>
        <td height="30"><div class="col_enc">INFORMACION GRUPO FAMILIAR</div></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr class="odd1">
        <td width="55%" class="campos">Tiempo Permanencia (Años)</td>
        <td width="20%" class="campos">Lugar de Procedencia</td>
        <td width="25%" class="campos">Desplazado Reconocido SIPOD</td>
      </tr>
      <tr valign="top">
        <td class="camposDesc">
          En el Sector &nbsp; <%= f.text_field :info_permasector,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp; 
          En Medellin &nbsp; <%= f.text_field :info_permamedellin,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Nro de Familias en la Vivienda &nbsp; <%= f.text_field :info_nrofamilias,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
        <td class="camposDesc">
           <%= f.text_field :info_lugarprocedencia,{ :class => "campo", :size => 22,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
        <td class="camposDesc">
           <%= select(:persona,
              :info_sipoddesplazado, { "NO" => "NO",
                "SI" => "SI" },
              { :include_blank => true },
                    { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>
          &nbsp;Registro &nbsp;<%= f.text_field :info_sipodregistro,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td width="15%" class="campos odd1">Usos de la Vivienda</td>
        <td width="85%" class="camposDesc">
          &nbsp;<%= f.check_box :info_usoresidencia,{},'SI','NO'%> &nbsp;Residencia &nbsp;-&nbsp;
          &nbsp;<%= f.check_box :info_usoresinegocio,{},'SI','NO'%> &nbsp;Residencias con Negocio &nbsp;-&nbsp;
          Tipo de Negocio &nbsp; <%= f.text_field :info_usonegocio,{ :class => "campo", :size => 45,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Años &nbsp; <%= f.text_field :info_usonegocioanos,{ :class => "campo", :size => 5,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
     <table width="100%" border="0" cellpadding="2" cellspacing="2"  align="center">
      <tr><td></td></tr>
      <tr>
        <td height="30"><div class="col_enc">SITUACION ECONOMICA DEL HOGAR</div></td>
      </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td width="15%" rowspan="2" class="campos odd1">Ingresos Mensuales</td>
        <td width="85%" class="camposDesc">
          Salario (Empleados) <%= f.text_field :situ_ingresalario,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Ingresos (Independientes) <%= f.text_field :situ_ingreingresos,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Subsidio en Dinero <%= f.text_field :situ_ingresubsidio,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Ayuda Familiar <%= f.text_field :situ_ingreayuda,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
      <tr>
        <td width="85%" class="camposDesc">
          Pension <%= f.text_field :situ_ingrepension,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Otro <%= f.text_field :situ_ingreotro,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Total <%=@persona.situ_ingretotal%>&nbsp; &nbsp;
        </td>
      </tr>
    </table>
    <table width="100%" height="0" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td height="10"><hr size="1" noshade class="hrlinea"/></td>
    </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td width="15%" rowspan="2" class="campos odd1">Gastos Mensuales</td>
        <td width="85%" class="camposDesc">
          Arriendo <%= f.text_field :situ_gastoarriendo,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Servicios <%= f.text_field :situ_gastoservicios,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Transporte <%= f.text_field :situ_gastotransporte,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Alimentacion <%= f.text_field :situ_gastoalimentacion,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Salud <%= f.text_field :situ_gastosalud,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
        </td>
      </tr>
      <tr>
        <td width="85%" class="camposDesc">
          Educacion <%= f.text_field :situ_gastoeducacion,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Vestido <%= f.text_field :situ_gastovestido,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Total <%=@persona.situ_gastototal%>&nbsp; &nbsp;
        </td>
      </tr>
    </table>
    <table width="100%" height="0" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td height="10"><hr size="1" noshade class="hrlinea"/></td>
    </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td width="15%" class="campos odd1">Deudas Pendientes</td>
        <td width="85%" class="camposDesc">
          Prestamos <%= f.text_field :situ_deudaprestamo,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Servicios Publicos <%= f.text_field :situ_deudaservicios,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Otros <%= f.text_field :situ_deudaotros,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Especificar <%= f.text_field :situ_deudaespecificar,{ :class => "campo", :size => 35,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
    <table width="100%" height="0" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td height="10"><hr size="1" noshade class="hrlinea"/></td>
    </tr>
    </table>
    <table width="100%" border="0" cellspacing="2" cellpadding="0">
      <tr>
        <td width="15%" class="campos odd1">Tiene Ahorro / Cesantias</td>
        <td width="85%" class="camposDesc">
          <%= select(:persona,
              :situ_ahorro, { "NO" => "NO",
                "SI" => "SI" },
              { :include_blank => true },
                    { :style=>"width:50px", :class => "campo", :onFocus => "this.style.border='1px solid #f00'", :onBlur => "this.style.border='1px solid #bbb'" })%>&nbsp; &nbsp;
          Donde <%= f.text_field :situ_ahorrodonde,{ :class => "campo", :size => 80,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>&nbsp; &nbsp;
          Valor <%= f.text_field :situ_ahorrovalor,{ :class => "campo", :size => 10,
            :onChange=> "javascript:this.value=this.value.toUpperCase();",
            :onFocus => "this.style.border='1px solid #f00'",
            :onBlur => "this.style.border='1px solid #bbb'" }%>
        </td>
      </tr>
    </table>
    <table width="100%" height="0" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td height="10"><hr size="1" noshade class="hrlinea"/></td>
    </tr>
    </table>
    </div>  
    <table width="100%" border="0" cellpadding="2" cellspacing="2">
      <tr>
        <td class="camposNotas" align="left">
          <% unless @persona.new_record? %>
          Ultima Actualización: <%=@persona.user.username rescue nil%> - <%=@persona.updated_at.strftime("%Y-%m-%d %X")%>
        <% end %></td>
        <td  height="30"><div align="right">
            <% if permiso("persona","A").to_s == "S" %>
            <div class="uiButton"><img class="img" src="/images/guardar.png"/>&nbsp;&nbsp;<span class="uiButtonText"><%= submit_tag "Guardar", :disable_with => "Guardando..."%></span></div>
            <% end %>
    </div></td>
      </tr>
    </table>
    <% end %>
    <br/>
    <% unless @persona.new_record? %>
        <div id="personasclasificaciones_form"><%#= render :partial => "/personasclasificaciones/personasclasificaciones" %></div>
    <% end %>
    </fieldset>
<% elsif @persona.etapa.to_s == '11' %>
      <div id="beneviviendas_form"><%= render :partial => "/beneviviendas/beneviviendas" %></div>
      <% if @persona.antbeneviviendas.exists? %>
        <fieldset id ="el02"><%= render :partial => "/antbeneviviendas/show" %></fieldset>
      <% end %>
<% elsif @persona.etapa.to_s == '12' %>
      <div id="viviendas_personas_form"><%= render :partial => "/viviendaspersonas/viviendaspersonas" %></div>
      <%= render :partial => "/viviendasusadaspersonas/show" %>
<% elsif @persona.etapa.to_s == '13' %>
      <div id="subsidios_form"><%= render :partial => "/subsidios/subsidios" %></div>
      <% if @persona.antsubsidios.exists? %>
        <fieldset id ="el02"><%= render :partial => "/antsubsidios/show" %></fieldset>
      <% end %>
<% elsif @persona.etapa.to_s == '14' %>
      <div id="creditos_form"><%= render :partial => "/creditos/creditos" %></div>
      <% if @persona.antcreditos.exists? %>
          <fieldset id ="el02"><%= render :partial => "/antcreditos/show" %></fieldset>
      <% end %>
<% elsif @persona.etapa.to_s == '15' %>
       <div id="viviendasrenuncias_form"><%= render :partial => "/viviendasrenuncias/viviendasrenuncias" %></div>
<% elsif @persona.etapa.to_s == '16' %>
       <%= render :partial => "/resolucionespersonas/show" %>
<% elsif @persona.etapa.to_s == '17' %>
       <%= render :partial => "/iguanaspersonas/show" %>
<% elsif @persona.etapa.to_s == '18' %>
       <%= render :partial => "/feria2009jefes/show" %>
<% elsif @persona.etapa.to_s == '19' %>
       <%= render :partial => "/feria2010jefes/show" %>
<% elsif @persona.etapa.to_s == '39' %>
      <fieldset>
        <%= render :partial => "/feria2014jefes/show" %>
        <div id="feria2014imagenes_form"><%= render :partial => "/feria2014imagenes/feria2014imagenes" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '3' %>
      <fieldset>
        <div id="personasobservaciones_form"><%= render :partial => "/personasobservaciones/personasobservaciones" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '20' %>
      <fieldset>
        <div id="feriadocentejefes_form"><%= render :partial => "/feriadocentejefes/show" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '21' %>
      <fieldset>
        <div id="desplazados_form"><%= render :partial => "/desplazados/show" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '22' %>
       <%= render :partial => "/iguanasrentistas/show" %>
<% elsif @persona.etapa.to_s == '23' %>
       <%= render :partial => "/archivos/show" %>
<% elsif @persona.etapa.to_s == '24' %>
       <%= render :partial => "/obraspublicas/show" %>
<% elsif @persona.etapa.to_s == '25' %>
      <fieldset>
        <div id="personastramites_form"><%= render :partial => "/personastramites/personastramites" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '26' %>
       <%= render :partial => "/titulacionespersonas/show" %>
<% elsif @persona.etapa.to_s == '27' %>
      <fieldset>
        <div id="personassesiones_form"><%= render :partial => "/personassesiones/personassesiones" %></div>
      </fieldset>
<% elsif @persona.etapa.to_s == '28' %>
       <%= render :partial => "/ayudas/show" %>
<% elsif @persona.etapa.to_s == '29' %>
       <%= render :partial => "/correspondenciasrecibidas/show" %>
<% elsif @persona.etapa.to_s == '30' %>
       <%= render :partial => "/correspondenciasenviadas/show" %>
<% elsif @persona.etapa.to_s == '31' %>
       <%= render :partial => "/procesospersonas/show" %>
<% elsif @persona.etapa.to_s == '32' %>
    <div id="personasretornos_form"><%= render :partial => "/personasretornos/personasretornos" %></div>
<% elsif @persona.etapa.to_s == '33' %>
       <%= render :partial => "/quejas/show" %>
<% elsif @persona.etapa.to_s == '41' %>
       <%= render :partial => "/personasencuestas/show" %>
<% elsif @persona.etapa.to_s == '34' %>
    <div id="personascensos_form"><%= render :partial => "/personascensos/personascensos" %></div>
<% elsif @persona.etapa.to_s == '35' %>
       <%= render :partial => "/cruces/show" %>
<% elsif @persona.etapa.to_s == '36' %>
       <%= render :partial => "/mejoramientos/show" %>
<% elsif @persona.etapa.to_s == '37' %>
    <fieldset>
      <div id="personaslistas_form"><%= render :partial => "/personaslistas/personaslistas" %></div>
    </fieldset>
<% elsif @persona.etapa.to_s == '38' %>
       <%= render :partial => "/personasbases/show" %>
<% elsif @persona.etapa.to_s == '40' %>
       <%= render :partial => "/fase2censos/show" %>
<% end %>
<br/><br/><br/>